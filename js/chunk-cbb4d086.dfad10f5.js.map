{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/CartStep.vue","webpack:///./src/components/CartStep.vue?c906","webpack:///./src/views/front/UserCheckout.vue","webpack:///./src/views/front/UserCheckout.vue?9de6"],"names":["$","global","fails","isArray","isObject","toObject","lengthOfArrayLike","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","TypeError","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error","class","_createElementVNode","_createElementBlock","$props","_hoisted_2","_hoisted_3","_hoisted_5","props","__exports__","render","colspan","_createVNode","_component_CartStep","step","$data","onSubmit","$options","_Fragment","_renderList","products","item","key","id","_toDisplayString","product","title","qty","unit","Math","round","final_total","_hoisted_6","total","_hoisted_9","user","email","_hoisted_10","name","_hoisted_11","tel","_hoisted_12","address","_hoisted_13","is_paid","_hoisted_14","type","onClick","_component_RouterLink","to","data","orderId","order","stepNum","components","CartStep","methods","getOrder","url","process","$http","then","res","catch","err","$httpMessageState","response","payOrder","post","$router","push","getCart","emitter","emit","mounted","$route","params"],"mappings":"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","file":"js/chunk-cbb4d086.dfad10f5.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\nvar TypeError = global.TypeError;\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <div class=\"d-flex justify-content-center mt-4 text-center\">\n    <div class=\"step-border-light px-3 px-md-4 py-2 pos-relative d-flex flex-column align-items-center\"\n      :class=\"{'step-border-dark': step > 1}\">\n      <div class=\"step border-2 border-secondary border\"\n        :class=\"{ 'active' : step > 0}\"> 1 </div>\n      <p class=\"mt-1\">購買明細</p>\n    </div>\n    <div class=\"step-border-light px-3 px-md-4 py-2 pos-relative d-flex flex-column align-items-center\"\n      :class=\"{'step-border-dark': step > 2}\">\n      <div class=\"step border-2 border-secondary border\"\n        :class=\"{'active': step > 1}\"> 2 </div>\n      <p class=\"mt-1\">確認訂單</p>\n    </div>\n    <div class=\"px-3 px-md-4 py-2 d-flex flex-column align-items-center\">\n      <div class=\"step border-2 border-secondary border\"\n        :class=\"{'active': step > 2}\"> 3 </div>\n      <p class=\"mt-1\">付款完成</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['step']\n}\n</script>\n","import { render } from \"./CartStep.vue?vue&type=template&id=f41f8846\"\nimport script from \"./CartStep.vue?vue&type=script&lang=js\"\nexport * from \"./CartStep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tongxiaohan/Desktop/own dessert/project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <CartStep :step=\"stepNum\"/>\n  <div class=\"container pt-8 pb-8 pb-lg-11\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-md-6 col-lg-4\">\n        <form @submit.prevent=\"payOrder\">\n          <table class=\"table table-secondary align-middle\">\n            <thead>\n              <th>種類</th>\n              <th>數量</th>\n              <th>價格</th>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in order.products\" :key=\"item.id\">\n                <td> {{ item.product.title }} </td>\n                <td> {{ item.qty }}  {{ item.product.unit }} </td>\n                <td> {{ Math.round(item.final_total) }} 元</td>\n              </tr>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colspan=\"2\" class=\"text-end\">總計</td>\n                <td class=\"text-end\">{{ Math.round(order.total) }} 元</td>\n              </tr>\n            </tfoot>\n          </table>\n          <table class=\"table table-borderless mt-8 bg-secondary\">\n            <tbody>\n              <tr>\n                <th>Email</th>\n                <td>{{ order.user.email }}</td>\n              </tr>\n              <tr>\n                <th>姓名</th>\n                <td>{{ order.user.name }}</td>\n              </tr>\n              <tr>\n                <th>收件人電話</th>\n                <td>{{ order.user.tel }}</td>\n              </tr>\n              <tr>\n                <th>收件人地址</th>\n                <td>{{ order.user.address }}</td>\n              </tr>\n              <tr>\n              <th>付款狀態</th>\n                <td>\n                  <span v-if=\"!order.is_paid\">尚未付款</span>\n                  <span v-else class=\"text-success\">付款完成</span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"text-end mt-2\" v-if=\"order.is_paid === false\">\n            <button class=\"btn btn-accent\" type=\"button\" @click=\"payOrder\">確認付款去</button>\n          </div>\n          <div v-if=\"order.is_paid\" class=\"mt-4 text-end\">\n            <RouterLink to=\"/\" class=\"btn btn-sm btn-outline-dark rounded-0 me-2  me-lg-4 p-lg-1\" type=\"button\">返回首頁</RouterLink>\n            <RouterLink to=\"/products\" class=\"btn btn-sm btn-outline-accent rounded-0 p-lg-1\" type=\"button\">繼續買</RouterLink>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/libs/emitter'\nimport CartStep from '@/components/CartStep.vue'\n\nexport default {\n  data () {\n    return {\n      orderId: '',\n      order: {\n        user: {}\n      },\n      stepNum: 0\n    }\n  },\n  components: {\n    CartStep\n  },\n  methods: {\n    getOrder () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\n      this.$http.get(url)\n        .then((res) => {\n          this.order = res.data.order\n          this.stepNum = 2\n        }).catch((err) => {\n          this.$httpMessageState(err.response, '錯誤訊息')\n        })\n    },\n    payOrder () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\n      this.$http.post(url).then(() => {\n        this.getOrder()\n        this.$router.push('/payfinished')\n        this.getCart()\n      }).catch((err) => {\n        this.$httpMessageState(err.response, '錯誤訊息')\n      })\n    },\n    getCart () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      this.$http.get(url)\n        .then(() => {\n          emitter.emit('clear-cart', {})\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '錯誤訊息')\n        })\n    }\n  },\n  mounted () {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  }\n}\n</script>\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=124b84ba\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tongxiaohan/Desktop/own dessert/project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}